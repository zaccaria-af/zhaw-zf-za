\usepackage[utf8]{inputenc}
\usepackage[ngerman]{babel}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[left=5mm, right=5mm, bottom=15mm, top=15mm]{geometry}
\usepackage{lastpage}
\usepackage[explicit]{titlesec}
\usepackage{ulem}
\usepackage{bm}

\usepackage{titling}
\usepackage{calc}
\usepackage{fancyhdr}
\usepackage[table]{xcolor}
\usepackage{enumitem}
\setlist{nolistsep, leftmargin = 4mm}

\usepackage{multicol}
\usepackage{adjustbox}
\usepackage{multirow}
\usepackage{csvsimple}
\usepackage{colortbl}

\usepackage{textcomp}
\usepackage{amsmath}
\usepackage{esint}
\usepackage{amssymb}    % \cdots
\usepackage{cancel}     % strike-through terms
\usepackage{gensymb}
\usepackage{siunitx}
\sisetup{exponent-product = \cdot, per-mode = fraction, range-phrase = \dots}

\usepackage{tikz}
\usepackage{pgfplots}
\usetikzlibrary{positioning, calc, fit, matrix, decorations, angles, quotes, babel, 3d, arrows.meta, shadings, circuits.logic.IEC, circuits.ee.IEC, automata}
\usepackage{circuitikz}
\ctikzset{tripoles/pmos style/emptycircle}
\usepackage{wrapfig}

% pgfplot layers
\pgfplotsset{compat=1.7}                                                                % Version? f√ºr Plots  
\pgfdeclarelayer{bg}
\pgfdeclarelayer{l1}
\pgfdeclarelayer{l2}
\pgfdeclarelayer{l3}
\pgfdeclarelayer{tl1}
\pgfdeclarelayer{tl2}
\pgfdeclarelayer{tl3}
\pgfsetlayers{bg,l3,l2,l1,main,tl1,tl2,tl3}

\definecolor{darkgreen}{HTML}{008E00}
\definecolor{darkred}{HTML}{990000}
\definecolor{mred}{HTML}{e60000}
\definecolor{burntorange}{HTML}{ff9a00}
\definecolor{darkblue}{HTML}{000099}
\definecolor{lightblue}{HTML}{99d6ff}
\definecolor{lightgray}{HTML}{A9A9A9}
\definecolor{darkyellow}{HTML}{FED600}
\definecolor{limegreen}{HTML}{3ae32b}
\definecolor{pastelmoss}{HTML}{A0C1B8}
\definecolor{pastelaqua}{HTML}{709FB0}
\definecolor{pastelviolet}{HTML}{726a95}

\definecolor{primaryheader}{HTML}{6153CC}
\definecolor{secondaryheader}{HTML}{D44D5C}
\definecolor{thirdheader}{HTML}{3F6C51}

\definecolor{numColor}{HTML}{FFFFFF}
\definecolor{twoColor}{HTML}{3F6C51}

\tikzset{
    circ/.style = {circle, fill = black, minimum size=1mm, inner sep=0pt, outer sep=0pt},
    point/.style = {circle, draw = black, thick, minimum size=1mm, inner sep=0pt, outer sep=0pt},
    gnd/.style = {draw, fill, minimum width = 10mm, minimum height = 1pt},
    kvbinhead/.style = {draw = white, fill = secondaryheader!30, text = black},
    srLatch/.style = {flipflop, flipflop def = {t1 = S, t3 =R, t6={~}, n4 = 1}},
    srtLatch/.style = {flipflop, flipflop def = {t1 = S, t2 = T, t3 =R, t6={~}, n4 = 1}},
    dLatch/.style = {flipflop, flipflop def = {t1 = D, t2 = T, t6={~}, n4 = 1}},
    dFf/.style = {flipflop, flipflop def = {t1 = D, t2=\clktag, t6={~}, c2=1, n4=1}},
    srFf/.style = {flipflop, flipflop def = {t1 = S, t2=\clktag, t3=R, t6={~}, c2=1, n4=1}},
    jkFf/.style = {flipflop, flipflop def = {t1 = J, t2=\clktag, t3=K, t6={~}, c2=1, n4=1}},  
    tFfv1/.style = {flipflop, flipflop def = {t2=\clktag, t6={~}, c2=1, n4=1}, label={[label distance =1.2mm]90:T}},
    tFfv2/.style = {flipflop, flipflop def = {t1=T, t2=\clktag, t6={~}, c2=1, n4=1}},
    tFfmin/.style = {flipflop, flipflop def = {t6={~}, c2=1}, label={[label distance =0mm]90:T}}
}

\newcommand{\cirin}[1]{\textbf{\sffamily #1}}
\newcommand{\cirout}[1]{\textit{\textbf{#1}}}
\newcommand{\ciroutn}[1]{$\overline{\text{\textit{\textbf{#1}}}}$}

\newenvironment{circuit}[1][0.4]{
    \begin{center}
    \begin{circuitikz}[european]
        \ctikzset{flipflops/scale = #1}
        \ctikzset{multipoles/flipflop/font = \normalsize}
        \ctikzset{multipoles/flipflop/clock wedge size=0.3}
        \ctikzset{tripoles/european not symbol=circle}
        \ctikzset{tripoles/european nor port/height=0.3}
        \ctikzset{tripoles/european nor port/width=0.6} 
        \ctikzset{tripoles/european and port/height=0.3}
        \ctikzset{tripoles/european and port/width=0.6} 
        \ctikzset{tripoles/european not port/height=0.3}
        \ctikzset{tripoles/european not port/width=0.5} 
}{
    \end{circuitikz}
    \end{center}
}

\def\labelitemi{-}

\newcommand{\uunits}[2]{$\left[#1\right] = \si{#2}$}
\newcommand{\floor}[1]{\text{floor}\left(#1\right)}

\newcommand{\cemph}[2][red]{\textcolor{#1}{\sffamily\bfseries\boldmath #2}}
\newcommand{\cbmath}[2]{\textcolor{#1}{\bfseries\boldmath #2}}
\newcommand{\twocom}{$2^{\text{er}}$}
\newcommand{\nibp}[2]{#1\textcolor{blue}{#2}}

\DeclareTextFontCommand{\emph}{\bfseries\boldmath}

\newcommand{\createmainpagestyle}{
    \fancypagestyle{main}{
        \fancyhf{}
        \lfoot{Al-Fatlawi}
	\lhead{HS21}
	\rhead{Information und Codierung, Zusammenfassung}
        \cfoot{\today}
        \rfoot{Seite \thepage \protect{ }von \pageref{LastPage}}
	\renewcommand{\headrulewidth}{0.5pt}
        \renewcommand{\footrulewidth}{0.5pt}
    }

}

\newcommand{\overrideplainstyle}{
    \fancypagestyle{plain}{
        \fancyhf{}
        \rfoot{Seite \thepage \protect{ }von \pageref{LastPage}}
        \renewcommand{\headrulewidth}{0pt}
        \renewcommand{\footrulewidth}{0pt}
    }
}

\setlength{\columnseprule}{1pt}
\def\columnseprulecolor{\color{twoColor}}

\newcommand{\raisedrulefill}[2][0ex]{\leaders\hbox{\rule[#1]{1pt}{#2}}\hfill}

\renewcommand{\familydefault}{\sfdefault}

\titleformat{\section}{\sffamily\bfseries\boldmath\large}{}{0pt}{\colorbox{primaryheader}{\parbox[c][3mm]{\linewidth -
6pt}{\textcolor{numColor}{#1}}}}
\titleformat{\subsection}{\sffamily\bfseries\boldmath}{}{0pt}{\colorbox{secondaryheader}{\parbox[c][2mm]{\linewidth -
6pt}{\textcolor{numColor}{#1}}}}
\titleformat{\subsubsection}{\sffamily\bfseries\boldmath}{}{0pt}{\textcolor{thirdheader}{#1 \raisedrulefill[0.4ex]{0.5pt}}}
\titleformat{\paragraph}[runin]{\sffamily\bfseries\boldmath}{}{0pt}{\uline{#1}}

